<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>홈페이지</title>
    <link rel="shortcut icon" href="../photo/icon4.png">
    <link rel="stylesheet" href="../stylesheets/home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
    <script src="jquery-3.4.1.js"></script>
</head>
<body>
    <div class="user-profile">
        <span id="name" style="position:fixed; top:63px; right:138px;"></span>
        <div class="pro">
            <img class="profile" src="../photo/profile.png" onclick="showBalloon()">
            <div class="balloon hidden">
                <div class="balloon-logout">
                    <img class="logout_img" src="../photo/logout.png">
                    <a id="logout-text" href="../views/login.html">로그아웃</a>
                </div>
                <div class="balloons arrow-border"></div>
                <div class="balloons arrow"></div>
            </div>
        </div>
    </div>
    <section class="home-form">
        <form action="/map.html" method="get">
            <div class="home">
            <button class="home-btn" type="submit">바로 코스짜기</button>
                <div class="group">
                    <div class="cafe">
                        <div class="menuWrap">
                            <img class="cafe_img" src="../photo/cafe.png">
                            <div class="home_text">CAFE</div>
                        </div>
                    </div>
                    <div class="restaurant">
                        <div class="menuWrap">
                            <img class="restaurant_img" src="../photo/restaurant.png">
                            <div class="home_text">RESTAURANT</div>
                        </div>
                    </div>
                    <div class="place">
                        <div class="menuWrap">
                            <img class="place_img" src="../photo/place.png">
                            <div class="home_text">PLACE</div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>
    <script>
        function showBalloon() {
            const element = document.querySelector('.balloon');
            element.classList.toggle('hidden');
        }
    </script>
    <script>
        var urlParams;
        (window.onpopstate = function () {
            var match,
                pl     = /\+/g,  // Regex for replacing addition symbol with a space
                search = /([^&=]+)=?([^&]*)/g,
                decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
                query  = window.location.search.substring(1);
        
            urlParams = {};
            while (match = search.exec(query))
            urlParams[decode(match[1])] = decode(match[2]);
        })();
        document.getElementById('name').innerHTML = urlParams.id + " 님";
    </script>
</body>
</html>