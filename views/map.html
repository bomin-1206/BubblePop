<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <title> 너이길 지도</title>
    <link rel="stylesheet" href="../stylesheets/map.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Noto+Sans+KR:wght@300&display=swap"
        rel="stylesheet">

</head>

<body>
    <div id="map" style="width:100%;height:100vh;"></div>


    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=c4aff8bec893e3039f315686989b5a65"></script>
    <script>
        var mapContainer = document.getElementById('map'), // 지도를 표시할 div  
            mapOption = {
                center: new kakao.maps.LatLng(35.663345, 128.414105), // 지도의 중심좌표
                level: 3 // 지도의 확대 레벨
            };

        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

        // 마커를 표시할 위치와 title 객체 배열입니다 
        var positions = [
            {
                title: '구지 커피명가',
                latlng: new kakao.maps.LatLng(35.640390387840746, 128.40354915598132)
            },
            {
                title: '중앙 공원',
                latlng: new kakao.maps.LatLng(35.690413256113374, 128.46037706059198)
            },
            {
                title: '뜨돈',
                latlng: new kakao.maps.LatLng(35.69348693539046, 128.45998849830983)
            },
            {
                title: '롯데시네마',
                latlng: new kakao.maps.LatLng(35.693421622079, 128.45630309831012)
            }
        ];

        // 마커 이미지의 이미지 주소입니다
        var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";

        for (var i = 0; i < positions.length; i++) {

            // 마커 이미지의 이미지 크기 입니다
            var imageSize = new kakao.maps.Size(24, 35);

            // 마커 이미지를 생성합니다    
            var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);

            // 마커를 생성합니다
            var marker = new kakao.maps.Marker({
                map: map, // 마커를 표시할 지도
                position: positions[i].latlng, // 마커를 표시할 위치
                title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
                image: markerImage // 마커 이미지 
            });
        }

        // 지도에 마커를 표시합니다 
        var marker = new kakao.maps.Marker({
            map: map,
            position: new kakao.maps.LatLng(35.663345, 128.414105)
        });

        // 커스텀 오버레이에 표시할 컨텐츠 입니다
        var content = '<div class="wrap">' +
            '    <div class="info">' +
            '        <div class="title">' +
            '            대구소프트웨어마이스터고' +
            '            <div class="close" onclick="closeOverlay()" title="닫기"></div>' +
            '        </div>' +
            '        <div class="body">' +
            '            <div class="img">' +
            '                <img src="https://w.namu.la/s/0cd5ae0bb1295d00e250281621a764bf920494324b5476f8cb74164630beefbbd4daf8e2bdf445d29df52e9d83a21b06bddb668bb451d6ca17628d4cb590ca36f0e364dee45fdbdb09cbafc81145bdc315b42ea53a74dd9eff9db71b281f19cf99b3e8d0b9d23006b112211dc105a155" width="73" height="70">' +
            '           </div>' +
            '            <div class="desc">' +
            '                <div class="ellipsis">대구광역시 구지면 창리로 11길</div>' +
            '                <div class="jibun ellipsis">(우) 43010 (지번) 창리 324</div>' +
            '                <div><a href="http://www.dgsw.hs.kr/index.do" target="_blank" class="link">홈페이지</a></div>' +
            '            </div>' +
            '        </div>' +
            '    </div>' +
            '</div>';

        // 마커 위에 커스텀오버레이를 표시
        var overlay = new kakao.maps.CustomOverlay({
            content: content,
            map: map,
            position: marker.getPosition()
        });

        // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다
        kakao.maps.event.addListener(marker, 'click', function () {
            overlay.setMap(map);
        });

        // 커스텀 오버레이를 닫기 위해 호출되는 함수입니다 
        function closeOverlay() {
            overlay.setMap(null);
        }

        // 지도 확대 축소제어
        var zoomControl = new kakao.maps.ZoomControl();
        map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
    </script>
</body>

</html>